{% load static %}
{% block body %}
{% include 'user_navigation.html' %}

<style>
    /* Inherit User theme colors */
    :root {
        --user-primary: #6f42c1; /* Deep Purple */
        --user-secondary: #4a148c; /* Darker Purple */
        --user-info: #17a2b8; /* Teal for Contact/Info */
        --user-text: #34495e;
        --user-shadow: rgba(111, 66, 193, 0.2);
    }

    body {
        background-color: #f4f7fa;
    }

    /* Job Card Styling */
    .job-detail-card {
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        overflow: hidden;
    }
    
    .job-title-header {
        color: var(--user-secondary);
        font-weight: 700;
        font-size: 2.2rem;
    }

    /* Info Tags */
    .info-tag {
        font-size: 0.95rem;
        font-weight: 500;
        padding: 8px 0;
        border-bottom: 1px dashed #e9ecef;
    }
    .info-tag strong {
        color: var(--user-secondary);
        width: 120px; /* Standardize width for alignment */
        display: inline-block;
    }

    /* Action Buttons */
    .btn-apply {
        background-color: var(--user-primary);
        border: none;
        transition: all 0.3s ease;
        padding: 12px 30px;
        font-weight: 600;
        border-radius: 8px;
    }
    .btn-apply:hover {
        background-color: var(--user-secondary);
        transform: translateY(-2px);
    }
    .btn-contact {
        background-color: var(--user-info);
        border: none;
        transition: all 0.3s ease;
        padding: 12px 30px;
        font-weight: 600;
        border-radius: 8px;
    }
    .btn-contact:hover {
        background-color: #0b7e93;
        transform: translateY(-2px);
    }

    /* Logo Section */
    .logo-section {
        background-color: #f8f9fa;
        border-right: 1px solid #e9ecef;
    }
    .company-logo {
        max-height: 150px;
        max-width: 150px;
        object-fit: contain;
        border: 4px solid var(--user-primary);
        padding: 5px;
    }
</style>

<div class="container my-5">
    <div class="card job-detail-card">
        <div class="row g-0">
            
            <div class="col-md-4 d-flex flex-column align-items-center justify-content-center p-4 logo-section">
                {% if job.logo %}
                    <img src="{{ job.logo.url }}" alt="{{ job.company }} Logo" class="img-fluid rounded-circle company-logo">
                {% else %}
                    <i class="fa-solid fa-building text-muted" style="font-size: 80px;"></i>
                {% endif %}
                <h3 class="mt-3 text-center text-secondary">{{ job.company }}</h3>
            </div>
            
            <div class="col-md-8">
                <div class="card-body p-5">
                    <h1 class="job-title-header mb-1">{{ job.title }}</h1>
                    <h5 class="text-muted mb-4">{{ job.recruiter.company }}</h5>
                    
                    <div class="row mb-4">
                        <div class="col-md-6 info-tag"><strong><i class="fa-solid fa-location-dot me-2"></i> Location:</strong> {{ job.location }}</div>
                        <div class="col-md-6 info-tag"><strong><i class="fa-solid fa-sack-dollar me-2"></i> Salary:</strong> Rs. {{ job.salary }}</div>
                        
                        <div class="col-md-6 info-tag"><strong><i class="fa-solid fa-clock me-2"></i> Job Type:</strong> {{ job.job_type }}</div>
                        <div class="col-md-6 info-tag"><strong><i class="fa-solid fa-house-laptop me-2"></i> Work Mode:</strong> {{ job.work_mode }}</div>
                        
                        <div class="col-md-6 info-tag"><strong><i class="fa-solid fa-briefcase me-2"></i> Experience:</strong> {{ job.experience }}</div>
                        <div class="col-md-6 info-tag"><strong><i class="fa-solid fa-code me-2"></i> Skills:</strong> {{ job.skills }}</div>
                        
                        <div class="col-md-6 info-tag"><strong><i class="fa-solid fa-calendar-plus me-2"></i> Posted On:</strong> {{ job.creation_date|date:"M d, Y" }}</div>
                        <div class="col-md-6 info-tag"><strong><i class="fa-solid fa-calendar-check me-2"></i> Deadline:</strong> {{ job.end_date|date:"M d, Y" }}</div>
                    </div>
                    
                    <hr class="my-4">
                    <h4 class="fw-bold mb-3 text-dark">Job Description</h4>
                    <p class="text-secondary" style="white-space: pre-wrap;">{{ job.description }}</p>

                    <div class="d-flex flex-wrap gap-3 mt-4">
                        <a href="{% url 'apply_job' job.id %}" class="btn btn-apply btn-lg">
                            <i class="fa-solid fa-paper-plane me-2"></i> Apply Now
                        </a>
                        
                        <a href="{% url 'recruiter_contact' job.id %}" class="btn btn-contact btn-lg">
                            <i class="fa-solid fa-envelope me-2"></i> Contact Recruiter
                        </a>
                    </div>
                    
                    <p class="text-center text-muted small mt-3">Need more info? Use the Contact Recruiter button above.</p>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}