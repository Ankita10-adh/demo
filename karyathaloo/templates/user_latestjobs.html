{% load static %}

{% block body %}
{% include 'navigation.html' %}

<style>
body {
    background-color: #f0f8ff; /* Light blue background */
}

.table thead th {
    background-color: #14446e; /* Dark header */
    color: white;
    text-align: center;
}

.table tbody td {
    vertical-align: middle;
    text-align: center;
}

/* Light background for rows */
.table tbody tr {
    background-color: #e6f2ff; /* Light blue row background */
    transition: background-color 0.3s;
}

/* Hover effect */
.table tbody tr:hover {
    background-color: #cce0ff; /* Slightly darker blue on hover */
}

/* Buttons */
.btn-apply {
    background-color: #007bff; /* Blue */
    color: white;
    font-weight: bold;
    transition: background-color 0.3s;
}

.btn-apply:hover {
    background-color: #0056b3; /* Darker blue on hover */
    color: white;
}

.btn-applied {
    background-color: #28a745; /* Green */
    color: white;
    font-weight: bold;
    cursor: default;
}
</style>

<marquee style="font-family: 'Monotype-Corsiva'; font-size:27px; margin-top:1%; 
                color: rgb(245, 244, 244); font-weight:bold; background-color: rgb(42, 80, 8);">
    Latest Jobs
</marquee>
<hr>

<div class="container mt-4">
    <div class="table-responsive">
        <table class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>S.No.</th>
                    <th>Company</th>
                    <th>Job Title</th>
                    <th>Job Type</th>
                    <th>Work Mode</th>
                    <th>Location</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for job in jobs %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ job.recruiter.company }}</td>
                    <td>{{ job.title }}</td>
                    <td>{{ job.job_type }}</td>
                    <td>{{ job.work_mode }}</td>
                    <td>{{ job.location }}</td>
                    <td>{{ job.start_date|date:"M d, Y" }}</td>
                    <td>{{ job.end_date|date:"M d, Y" }}</td>

                    <td>
                        {% if job.id in li %}
                            <span class="btn btn-applied btn-sm">Applied</span>
                        {% else %}
                            <a href="{% url 'job_detail' job.id %}" class="btn btn-apply btn-sm">Apply</a>
                        {% endif %}
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9" class="text-center">No jobs found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}
